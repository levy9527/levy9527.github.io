
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>📦vue组件发布npm最佳实践 | levy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="我们经常使用组件，二次封装或创造组件，在团队内部使用; 可当我们想通过npm分享组件时，却没了之前的得心应手，本文旨在帮助大家在可以更轻松地发布组件 首先，把vue组件发布到npm这件事可以拆分成两个部分：  在npm上发布一个包 将vue组件打包">
<meta property="og:type" content="article">
<meta property="og:title" content="📦vue组件发布npm最佳实践">
<meta property="og:url" content="https://levy9527.github.io/2018-06-13-%F0%9F%93%A6best-pratice-to-publish-vue-component-via-npm/index.html">
<meta property="og:site_name" content="levy">
<meta property="og:description" content="我们经常使用组件，二次封装或创造组件，在团队内部使用; 可当我们想通过npm分享组件时，却没了之前的得心应手，本文旨在帮助大家在可以更轻松地发布组件 首先，把vue组件发布到npm这件事可以拆分成两个部分：  在npm上发布一个包 将vue组件打包">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2018-06-13T09:39:16.000Z">
<meta property="article:modified_time" content="2018-06-19T07:28:30.000Z">
<meta property="article:author" content="levy">
<meta property="article:tag" content="Vue">
<meta name="twitter:card" content="summary">
  
  <link rel="icon" href="/favicon.ico">
  
<link rel="stylesheet" href="/css/style.css">

  <!-- <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css"> -->
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      
          <h1 id="logo-wrap">
            <a href="/" id="logo">CODE THE WEB</a>
          </h1>
      
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">主页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about.html">关于</a>
        
      </nav>
      <nav id="sub-nav">
        
        <!-- <a id="nav-search-btn" class="nav-icon" title="Search"></a> -->
      </nav>
      <div id="search-form-wrap">
        <form action="javascript:;" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" class="search-form-input st-default-search-input" placeholder="Search">
        </form>
      </div>
    </div>
  </div>
</header>

    <div class="outer">
      <section id="main"><article id="post-📦best-pratice-to-publish-vue-component-via-npm" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <time datetime="2018-06-13T09:39:16.000Z" itemprop="datePublished" class="article-date">2018-06-13</time>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <a itemprop="name" class="article-title" href="/2018-06-13-%F0%9F%93%A6best-pratice-to-publish-vue-component-via-npm/">📦vue组件发布npm最佳实践</a>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>我们经常使用组件，二次封装或创造组件，在团队内部使用; 可当我们想通过npm分享组件时，却没了之前的得心应手，本文旨在帮助大家在可以更轻松地发布组件</p>
<p>首先，把vue组件发布到npm这件事可以拆分成两个部分：</p>
<ol>
<li>在npm上发布一个包</li>
<li>将vue组件打包</li>
</ol>
<span id="more"></span>
<h2 id="npm发包"><a href="#npm发包" class="headerlink" title="npm发包"></a>npm发包</h2><p>有人说，发包不是一行命令就搞定了么</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm publish</span><br></pre></td></tr></table></figure>
<p>是的，可是还忽略了以下几点：</p>
<ol>
<li>首先你要在<a target="_blank" rel="noopener" href="https://www.npmjs.com/">npmjs</a>上注册一个账号</li>
<li>查看你的<code>.npmrc</code>设置，确保你的registry是<a target="_blank" rel="noopener" href="https://www.npmjs.com/">https://www.npmjs.com/</a>, 而不是淘宝源</li>
<li>在终端<code>npm login</code>，登录你的账号 </li>
</ol>
<p>做好以上三点，才可以通过<code>npm publish</code>简单地发布一个包。若要遵循最佳实践，还有一些准备工作要做好，下面将为你讲述</p>
<h3 id="完善基本信息"><a href="#完善基本信息" class="headerlink" title="完善基本信息"></a>完善基本信息</h3><p>package.json的以下字段需要注意</p>
<ul>
<li><code>name</code></li>
<li><code>version</code></li>
<li><code>description</code></li>
<li><code>keywords</code></li>
<li><code>author</code></li>
<li><code>license</code></li>
<li><code>repository</code></li>
<li><code>main</code></li>
<li><code>unpkg</code></li>
<li><code>module</code></li>
<li><code>scripts</code></li>
<li><code>engines</code></li>
</ul>
<p><code>name</code>就是发布到npm上的包名，也即别人安装时输入的名字<code>yarn add $&#123;name&#125;</code>, 包名应该是<code>kebab-case</code>, 即英文单词全小写，中划线分割(lower case and dash-separated)</p>
<p><code>version</code>是语义化的，<code>major.minor.patch</code>. 如果是<code>major</code>变动，通常意味着不兼容的修改; 如果是<code>minor</code>，意味着添加向后兼容的新功能，如果是<code>patch</code>, 意味着bug的修复。详情见<a target="_blank" rel="noopener" href="https://semver.org/">semver.org</a></p>
<p><code>description</code>是对包的描述，在<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/package">npmjs.com</a>上搜索时会显示，有助于用户在搜索时进行筛选</p>
<p><code>keywords</code> 同样也是帮助用户查找到你的包</p>
<p><code>author</code>的格式一般是<code>$&#123;your name&#125; $&#123;email&#125;</code>, 当然也可以是一个github地址</p>
<p><code>license</code>可能很多人会忽略，最好也写上去。至于用哪个，vue的官方项目全是MIT，因此我也是MIT，不纠结</p>
<p><code>repository</code>的格式参考如下：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;repository&quot;</span>: &#123;</span><br><span class="line">  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;git&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;https://github.com/FEMessage/el-data-table.git&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样在<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/el-data-table">npm包页面</a>就有会个github的入口</p>
<p><code>main</code>定义了包的入口文件，在NodeJs环境，语句<code>import pkg from &#39;package-name&#39;</code>时，其实导入的就是<code>main</code>定义的文件，它可以是<a target="_blank" rel="noopener" href="http://www.commonjs.org/">CommonJs</a>格式的, 也可以是<a target="_blank" rel="noopener" href="https://github.com/umdjs/umd">umd</a>格式</p>
<p>需要注意的是，当你把一个包发布到npm上时，它同时也可以在<a target="_blank" rel="noopener" href="https://unpkg.com/#/">unpkg</a>上获取到。也就是说，你的代码既可能在NodeJs环境也可能浏览器环境执行。为此你需要用<a target="_blank" rel="noopener" href="https://github.com/umdjs/umd">umd</a>格式打包，并且在package.json定义<code>unpkg</code>字段，一般而言此时它的命名为<code>name.min.js</code></p>
<p>最后，别忘了定义<code>module</code>或<code>jsnext:main</code>字段，它表示用ES6模块格式打包，给Webpack 2+或Rollup等先进的构建工具来处理。</p>
<p>我们来看一下三个字段的示例：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;main&quot;</span>: <span class="string">&quot;dist/el-data-table.js&quot;</span>,</span><br><span class="line"><span class="string">&quot;unpkg&quot;</span>: <span class="string">&quot;dist/el-data-table.min.js&quot;</span>,</span><br><span class="line"><span class="string">&quot;module&quot;</span>: <span class="string">&quot;dist/el-data-table.esm.js&quot;</span></span><br></pre></td></tr></table></figure>
<p><code>scripts</code> 为了防止出现发包前忘记构建的乌龙事件，定义一下发布前的脚本, 这样每次执行<code>npm publish</code>前都会先执行<code>npm run build</code></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;prepublishOnly&quot;</span>: <span class="string">&quot;npm run build&quot;</span></span><br></pre></td></tr></table></figure>
<p><code>engines</code> 可以告诉用户运行你的包对NodeJs版本的要求，这是非常重要的，不然你使用了NodeJs新版本特性，却没有定义该字段，导致低版本NodeJs用户运行报错，让人摸不着头脑。</p>
<h3 id="定义依赖"><a href="#定义依赖" class="headerlink" title="定义依赖"></a>定义依赖</h3><p>当你开发一个项目时，比如一个静态网站或一个单面应用，<strong>dependencies</strong>和<strong>devDependencies</strong>并没有太多区别，因为你<code>npm install</code> 或 <code>yarn</code>时，这些依赖都会下载下来，因为你是在开发。</p>
<p>但对于发布到npm的包则不同：</p>
<p><strong>dependencies</strong> 是运行你的包必须安装的依赖，即当用户<code>yarn add my-awesome-package</code>时，这些依赖也会下载。</p>
<p><strong>devDependencies</strong> 是开发你的包时需要安装的依赖，比如<code>eslint</code>, <code>jest</code>等开发工具，当用户<code>yarn add my-awesome-package</code> 时，这些依赖并不会下载！</p>
<p><strong>peerDependencies</strong> 一般用于开发插件的场景，它要求用户必须预先安装了某些依赖。比如开发<code>webpack</code>的插件，如果你把对<code>webpack</code>的依赖定义成<strong>dependencies</strong>, 如果用户安装的<code>webpack</code>跟<strong>dependencies</strong>里的<code>minor</code>版本不一致, 则用户<code>yarn add my-webpack-plugin</code>时会把<strong>dependencies</strong>定义的<code>webpack</code>也下载下来，也即用户会安装两个<code>major</code>版本相同的<code>webpack</code>, 这就不合适了。</p>
<p>所以说，定义好你的包的依赖，可以让用户安装使用你的包时少点困惑，多些愉悦。</p>
<h3 id="忽略文件"><a href="#忽略文件" class="headerlink" title="忽略文件"></a>忽略文件</h3><p>如果有 <code>.gitignore</code>文件，则发布时会忽略 <code>.gitignore</code>中定义的文件;  也即这些文件不需要在<code>.npmignore</code>重新定义。如果用<code>.gitignore</code>忽略了<code>dist</code>目录，但发包时又需要发布<code>dist</code>目录，此时可以在package.json定义<code>files</code>字段，这是一个白名单，里面的文件都会被发布出去</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;files&quot;</span>: [</span><br><span class="line">  <span class="string">&quot;dist&quot;</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>需要注意的是，子文件夹<code>.gitignore</code>或<code>.npmignore</code>同样有效，而它们会覆盖<code>files</code>字段</p>
<p>另外，有些文件无论如何设置，都不会发布出去：</p>
<ul>
<li><code>node_modules</code></li>
<li><code>.git</code>(包括<code>.gitignore</code>)</li>
</ul>
<h3 id="README-md"><a href="#README-md" class="headerlink" title="README.md"></a>README.md</h3><p>别忘了这个文件，写下与包相关的更具体的信息，告诉用户这个包有哪些功能，如何使用。这很重要，用户不会使用一个没有文档说明的包！</p>
<h3 id="发布"><a href="#发布" class="headerlink" title="发布"></a>发布</h3><p>一个版本只能发布一次，为了避免每次手动修改<code>package.json</code>, 可以使用<code>npm version [major | minor | patch]</code>命令来更新<code>package.json</code>里的版本</p>
<h3 id="打标签"><a href="#打标签" class="headerlink" title="打标签"></a>打标签</h3><p>假设你的包最新版本是<code>1.0.0</code>, 当用户<code>yarn add my-awesome-package</code>或<code>yarn add my-awesome-package@1.0.0</code>时，其实是相当于<code>yarn add my-awesome-package@latest</code>, 即不指定标签安装时，默认安装<code>latest</code>版本。</p>
<p>假设你正在开发<code>2.0.0</code>版本，它还不稳定，你想发布它让用户测试一波，此时又不能让它变成<code>latest</code>版本，不然用户<code>yarn add my-awesome-package</code>时就安装了<code>2.0.0</code>了，那将让用户崩溃。这时该怎么办呢？标签就用上场了。</p>
<p>可以这样发布</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm publish --tag beta</span><br></pre></td></tr></table></figure>
<p>则用户<code>yarn add my-awesome-package</code>安装的是<code>1.0.0</code>版本， <code>yarn add my-awesome-package@beta</code>时，安装的是<code>2.0.0</code>版本，不影响老用户，棒！🎉</p>
<p>记住，你只能对一个版本打一个标签，使用<code>npm dist-tag ls</code> 可以查看npm包一共打了几个标签</p>
<h2 id="打包Vue"><a href="#打包Vue" class="headerlink" title="打包Vue"></a>打包Vue</h2><h3 id="脚手架"><a href="#脚手架" class="headerlink" title="脚手架"></a>脚手架</h3><p>经过一番折腾，在<a target="_blank" rel="noopener" href="https://www.vuemastery.com/conferences/vueconf-2018/5-libraries-you-should-know-about-adam-jahr/">Vue Conf</a>上找到一个vue组件的打包脚手架(<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/cookbook/packaging-sfc-for-npm.html">vue官方文档也有说明</a>)，进行“本土化”修改完善后，已在github开源：<a target="_blank" rel="noopener" href="https://github.com/FEMessage/vue-sfc-cli">https://github.com/FEMessage/vue-sfc-cli</a></p>
<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>我们以开源组件<a target="_blank" rel="noopener" href="https://github.com/FEMessage/el-data-table">el-data-table</a>为例，解释目录结构及文件</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">├── README.md</span><br><span class="line">├── build</span><br><span class="line">│   └── rollup.config.js</span><br><span class="line">├── dist</span><br><span class="line">│   ├── el-data-table.esm.js</span><br><span class="line">│   ├── el-data-table.min.js</span><br><span class="line">│   └── el-data-table.umd.js</span><br><span class="line">├── docs</span><br><span class="line">│   ├── build</span><br><span class="line">│   └── index.html</span><br><span class="line">├── package.json</span><br><span class="line">├── src</span><br><span class="line">│   ├── el-data-table.vue</span><br><span class="line">│   └── index.js</span><br><span class="line">├── styleguide.config.js</span><br><span class="line">├── <span class="built_in">test</span></span><br><span class="line">│   └── index.test.js</span><br><span class="line">└── yarn.lock</span><br></pre></td></tr></table></figure>
<p>先来看三个文件:</p>
<ul>
<li><code>README.md</code></li>
<li><code>package.json</code></li>
<li><code>yarn.lock</code></li>
</ul>
<p><code>README.md</code>与<code>package.json</code>大家都懂，有<code>yarn.lock</code>因为是我们鼓励大家使用<a target="_blank" rel="noopener" href="https://yarnpkg.com/lang/en/">yarn</a>,  它比<code>npm</code>更快。虽然<code>npm</code> 6.0号称提速17倍(可以想象6之前是得有多慢😂)，但经测试，还是不如<code>yarn</code></p>
<p>接下来看<code>build</code>, <code>dist</code>, <code>src</code> 目录</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">├── build</span><br><span class="line">│   └── rollup.config.js</span><br><span class="line">├── dist</span><br><span class="line">│   ├── el-data-table.esm.js</span><br><span class="line">│   ├── el-data-table.min.js</span><br><span class="line">│   └── el-data-table.umd.js</span><br><span class="line">├── src</span><br><span class="line">│   ├── el-data-table.vue</span><br><span class="line">│   └── index.js</span><br></pre></td></tr></table></figure>
<p><code>build</code> 目录下放编译时的配置文件，这个跟<code>vue-cli 2.x</code>生成的模板build目录作用是一样的，只不过这里放置的是<code>rollup.config.js</code>。至于为什么用Rollup, 一是因为配置更简单，二是因为它更适合打包类库，当源文件中有<code>import lib from &#39;awesome-lib&#39;</code>类似的代码时，Rollup并不会把<code>awesome-lib</code>捆绑输出，这正是开发类库或组件需要的特性</p>
<p><code>dist</code>是输出目录，也有叫<code>lib</code>的，我也纠结了好久。看了一些优秀的开源项目，发现叫<code>dist</code>的比较多，而<code>webpack4</code>默认的输出目录也是<code>dist</code>, 因此决定用<code>dist</code>。至于<code>dist</code>目录下会有三个文件，前文已说过原因。而命名为何不是<code>camelcase</code>, 而是<code>kebab-case</code>, 后面风格指南会说到</p>
<p><code>src</code>是输入目录。把<code>index.js</code>放在<code>src</code>目录，也是经过一番考虑。也想把<code>index.js</code>跟<code>package.json</code>同级，最终参考了<code>webpack4</code>, 它默认输入是<code>src/index.js</code>, 那就跟主流保持一致。该文件主要工作是把<code>src</code>目录下的vue文件设置成vue的插件。同样，vue文件的命名后面风格指南会说到</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">├── <span class="built_in">test</span></span><br><span class="line">│   └── index.test.js</span><br></pre></td></tr></table></figure>
<p><code>test</code>目录下是基于<code>jest</code>及<code>vue/test-utils</code>的单元测试文件，具体教程可参考<a target="_blank" rel="noopener" href="https://vue-test-utils.vuejs.org/guides/#testing-single-file-components-with-jest">官方文档</a></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">├── docs</span><br><span class="line">│   ├── build</span><br><span class="line">│   └── index.html</span><br><span class="line">├── styleguide.config.js</span><br></pre></td></tr></table></figure>
<p><code>docs</code>存放的是组件的api文档，包含<code>props</code>, <code>slot</code>, <code>event</code>等内容的说明，使用的是<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/vue-styleguidist">vue-styleguidist</a>作为vue组件文档生成工具。为啥叫 <code>docs</code>呢，因为<code>Github Pages</code>支持从<code>master</code>分支的<code>docs</code>目录读取文件，在仓库<code>Settings</code>里选择<code>Github Pages</code>的<code>Source</code>即可, 具体看<a target="_blank" rel="noopener" href="https://pages.github.com/">官方文档</a></p>
<h3 id="风格指南"><a href="#风格指南" class="headerlink" title="风格指南"></a>风格指南</h3><p>vue组件把template/script/style都放在一个vue文件里，这个称之为单文件组件，<code>Single File Component</code>，缩写为SFC, 这就是<a target="_blank" rel="noopener" href="https://github.com/FEMessage/vue-sfc-cli">vue-sfc-cli</a>中sfc的寓意</p>
<p>通读<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/style-guide/index.html">vue官方风格指南</a>,  由于我们是<code>kebab-case</code>的重度用户，因此我们更看重的是在多个项目中保持相同的大小写规则，以下是摘取的适用于我们团队协作习惯的指南：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/style-guide/#%E7%BB%84%E4%BB%B6%E5%90%8D%E4%B8%BA%E5%A4%9A%E4%B8%AA%E5%8D%95%E8%AF%8D-%E5%BF%85%E8%A6%81">组件名，应该多个单词</a> </li>
</ul>
<p>这样做可以避免跟现有的以及未来的 HTML 元素<a target="_blank" rel="noopener" href="http://w3c.github.io/webcomponents/spec/custom/#valid-custom-element-name">相冲突</a>，因为所有的 HTML 元素名称都是单个单词的</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/style-guide/#%E5%8D%95%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6%E6%96%87%E4%BB%B6%E7%9A%84%E5%A4%A7%E5%B0%8F%E5%86%99-%E5%BC%BA%E7%83%88%E6%8E%A8%E8%8D%90">单文件组件的文件名应该要么始终是单词大写开头 (PascalCase)，要么始终是横线连接 (kebab-case)</a> </li>
</ul>
<p>我们选择使用<code>kebab-case</code></p>
<p>好例子：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">components/</span><br><span class="line">|- my-component.vue</span><br></pre></td></tr></table></figure>
<ul>
<li><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/style-guide/#%E6%A8%A1%E6%9D%BF%E4%B8%AD%E7%9A%84%E7%BB%84%E4%BB%B6%E5%90%8D%E5%A4%A7%E5%B0%8F%E5%86%99-%E5%BC%BA%E7%83%88%E6%8E%A8%E8%8D%90">在 DOM 模板(template)中总是 kebab-case 的</a></li>
</ul>
<p>好例子:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- template --&gt;</span><br><span class="line">&lt;my-component&gt;&lt;/my-component&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><a href="JS/JSX 中的组件名应该始终是 PascalCase 的，尽管在较为简单的应用中只使用Vue.component 进行全局组件注册时，可以使用 kebab-case 字符串">JS/JSX 中的组件名应该始终是 PascalCase 的，尽管在较为简单的应用中只使用Vue.component 进行全局组件注册时，可以使用 kebab-case 字符串</a></li>
</ul>
<p>这里我们选择使用<code>PascalCase</code>, 因为在编程语言里，<code>kebab-case</code>并不是最佳实践。 也即，在非编程语言的范围，我们能用<code>kebab-case</code>就用</p>
<p>好例子:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;MyComponent&#x27;</span>, &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> MyComponent <span class="keyword">from</span> <span class="string">&#x27;./my-component.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;MyComponent&#x27;</span>,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>综上所述，就可以明白前文中el-data-table的文件命名风格为<code>kebab-case</code>的原因了</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><p><a target="_blank" rel="noopener" href="https://hackernoon.com/how-to-publish-your-package-on-npm-7fc1f5aae600">How to publish your package on npm</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/module-best-practices">module-best-practices</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/voorhoede/npm-style-guide">npm-style-guide</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://semver.org/">semver.org</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://unpkg.com/#/">unpkg</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/umdjs/umd">umd</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://docs.npmjs.com/misc/scripts">npm scripts</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://docs.npmjs.com/misc/developers#keeping-files-out-of-your-package">.npmignore</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.vuemastery.com/conferences/vueconf-2018/5-libraries-you-should-know-about-adam-jahr/">2018 Vue Conf</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/cookbook/packaging-sfc-for-npm.html">Vue Cookbook</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/style-guide/index.html">Vue Style Guide</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/appleboy/npm-vs-yarn">npm-vs-yarn</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://pages.github.com/">Github Pages</a></p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://levy9527.github.io/2018-06-13-%F0%9F%93%A6best-pratice-to-publish-vue-component-via-npm/" data-id="ckrjddpa3006bvjrraqnn78ci" class="article-share-link">分享到</a>
      

      

      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue/" rel="tag">Vue</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
<!--这里的原始的排序是相对首页顺序来说的, 即next是首页的next,但时间上来说是上一篇 -->
  
    <a href="/2018-06-19-a-guide-for-chinese-frontend-developer-dockerizing-your-nodejs-app/" id="article-nav-newer" class="article-nav-link-wrap">
	<strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">
        
          🐠从零开始Docker化你的Node.js应用
        
      </div>
    </a>
  
  
    <a href="/2018-06-12-git-workflow/" id="article-nav-older" class="article-nav-link-wrap">
	<strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">Git工作流</div>
    </a>
  
</nav>


  
</article>


</section>
      
      <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Blog/" rel="tag">Blog</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Browser/" rel="tag">Browser</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/" rel="tag">CSS</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Game/" rel="tag">Game</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GitHub/" rel="tag">GitHub</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/" rel="tag">HTTP</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Javascript/" rel="tag">Javascript</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac/" rel="tag">Mac</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Movie/" rel="tag">Movie</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nuxt/" rel="tag">Nuxt</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/" rel="tag">React</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/" rel="tag">Vue</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web/" rel="tag">Web</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iOS/" rel="tag">iOS</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/work/" rel="tag">work</a><span class="tag-list-count">19</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A5%BD%E7%89%A9%E6%8E%A8%E8%8D%90/" rel="tag">好物推荐</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9D%82/" rel="tag">杂</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag">面试</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">18</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">友情链接</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="https://www.yuque.com/femessage/" target="_blank">开源组织博客</a>
          </li>
        
          <li>
            <a href="http://www.ruanyifeng.com/blog/" target="_blank">阮一峰</a>
          </li>
        
          <li>
            <a href="http://coolshell.cn/" target="_blank">左耳朵耗子</a>
          </li>
        
          <li>
            <a href="http://ieclipse.cn/" target="_blank">Jamling(参考样式)</a>
          </li>
        
          <li>
            <a href="https://www.haomwei.com/" target="_blank">屠城(参考字体)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 levy<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/levy9527/landscape-plus" target="_blank">Landscape-plus</a>
    </div>
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">主页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about.html" class="mobile-nav-link">关于</a>
  
</nav>

  <!-- totop start -->
<div id="totop">
<a title="返回顶部"><img src="/img/scrollup.png"/></a>
</div>

<!-- totop end -->


	<a target="_blank" href="https://github.com/levy9527"><img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>


<!-- 百度统计start -->

<!-- 百度统计end -->



<!-- 百度分享 start -->

<!-- 百度分享 end -->

<!-- swiftype搜索 start -->

<!-- swiftype搜索 end -->

<script src="//cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>





<script src="/js/script.js"></script>


</div>
</body>
</html>
